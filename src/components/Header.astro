<script>
	const hamburger = document.querySelector(".hamburger__button");
	const nav = document.querySelector(".header__nav");
	const visibleClass = "header__nav--visible";
	const links = document.querySelectorAll(".header__link");

	links.forEach((link: Element) => {
		link.addEventListener("click", () => {
			const isMediumDevice = window.matchMedia("(min-width: 768px)").matches;
			if (isMediumDevice) return;

			addOrRemoveVisibleClass(false);
		});
	});

	hamburger?.addEventListener("click", () => {
		const isNavVisible = nav?.classList.contains("header__nav--visible");

		addOrRemoveVisibleClass(!isNavVisible);
	});

	showOrHideNav();

	window.addEventListener("resize", () => {
		showOrHideNav();
	});

	function showOrHideNav(): void {
		const isMediumDevice = window.matchMedia("(min-width: 768px)").matches;

		addOrRemoveVisibleClass(isMediumDevice);
	}

	function addOrRemoveVisibleClass(condition: boolean): void {
		if (condition) {
			nav?.classList.add(visibleClass);
		} else {
			nav?.classList.remove(visibleClass);
		}
	}
</script>

<header class="header container">
	<div class="header__logo">
		<img src="logo.svg" alt="Logo" />
	</div>

	<nav class="header__nav">
		<ul class="header__links">
			<li>
				<a aria-label="Navegar a inicio" class="header__link" href="#">inicio</a
				>
			</li>
			<li>
				<a
					aria-label="Navegar a servicios"
					class="header__link"
					href="#why-hire-us">servicios</a
				>
			</li>
			<li>
				<a aria-label="Navegar a acerca" class="header__link" href="#about"
					>acerca</a
				>
			</li>
			<li>
				<a
					aria-label="Navegar a contactanos"
					class="header__link"
					href="#contact">contactanos</a
				>
			</li>
		</ul>
	</nav>

	<div class="hamburger">
		<button class="hamburger__button">
			<img src="hamburger-menu.svg" alt="Logo de menÃº de hamburguesa" />
		</button>
	</div>
</header>

<style lang="scss">
	.header {
		align-items: center;
		background-color: #000;
		display: flex;
		flex-direction: row;
		flex-wrap: wrap;
		height: fit-content;
		justify-content: space-between;
		padding: 20px 0;
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		z-index: 1;

		@media (min-width: 768px) {
			height: 80px;
		}

		&__logo {
			width: 50%;
			height: 40px;

			@media (min-width: 768px) {
				width: unset;
			}

			img {
				height: 100%;
			}
		}

		.hamburger {
			width: 50%;
			display: flex;
			justify-content: flex-end;

			@media (min-width: 768px) {
				width: unset;
			}

			&__button {
				background-color: transparent;
				border: none;
				order: 2;
				padding: 0;
				width: 28px;

				&:hover {
					cursor: pointer;
				}

				img {
					width: 100%;
				}

				@media (min-width: 768px) {
					display: none;
				}
			}
		}

		&__nav {
			display: none;
			order: 3;
			width: 100%;

			@media (min-width: 768px) {
				width: auto;
			}

			&--visible {
				display: block;
				padding-top: 20px;
			}
		}

		&__links {
			display: flex;
			list-style: none;
			flex-direction: column;
			gap: 25px;

			@media (min-width: 768px) {
				flex-direction: row;
				gap: 45px;
			}
		}

		&__link:link,
		&__link:visited {
			text-decoration: none;
			color: inherit;
			text-transform: uppercase;
			font-size: 18px;
			display: block;
			text-align: center;

			&:hover,
			&:focus,
			&:active {
				background: linear-gradient(to right, #2b92d5, #3fd9d7);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
			}
		}
	}
</style>
